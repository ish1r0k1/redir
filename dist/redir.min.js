/**
 * Redir.js - directory redirector
 * @version v1.0.0
 * @author @ish1r0k1
 * @license MIT
 */
!function(t,e){"use strict";var i=function(){this.Cookie=new o;var e=t.navigator.userAgent;this.isSp=/Android|iPhone|iPad/.test(e),this.relativePath=!0,this.setUrl(),this.addListeners(),this.toUrl&&this.go()};i.prototype.setUrl=function(){var e,i=(location.origin,location.pathname),o=location.search,n=location.hash,s=(t.navigator.userAgent,new RegExp(/\/sp\//i));if("pc"!==this.Cookie.get("mode")&&this.isSp){if(s.test(i))return;e=this.relativePath?"./sp":"/sp"+i,e+=o+n}else s.test(i)&&(i=i.replace(s,"/"),e=(i+o+n).replace(/\/{2}/,"/"));this.toUrl=e||null},i.prototype.addListeners=function(){t.addEventListener("DOMContentLoaded",this.initializeDoms.bind(this))},i.prototype.initializeDoms=function(){for(var t=e.querySelectorAll(".js-redir"),i=0,o=t.length;o>i;i++){var n=t[i];this.isSp?n.addEventListener("click",this.changeMode.bind(this)):n.style.display="none"}},i.prototype.changeMode=function(){var t="pc"!==this.Cookie.get("mode")?"pc":"sp";this.Cookie.set("mode",t,1),this.setUrl(),this.go()},i.prototype.go=function(){location.href=this.toUrl};var o=function(){};o.prototype.get=function(t){if(e.cookie.length>0){var i,o=e.cookie.indexOf(t+"=");if(-1!==o)return o=o+t.length+1,i=e.cookie.indexOf(";",o),-1===i&&(i=e.cookie.length),unescape(e.cookie.substring(o,i))}return""},o.prototype.set=function(i,o,n){var s=new Date;return s.setDate(s.getDate()+n),e.cookie=i+"="+escape(o)+(null==n?"":"; expires="+s.toUTCString()+"; path=/; domain="+t.location.host.toString())},o.prototype.check=function(t){return t=this.get(t),null!==t&&""!==t},o.prototype.remove=function(t){this.set(t,"",-1)},new i}(window,document);